{% extends 'base.html' %}
{% load catalog_tags %}
{% block title %} {{ product.title }} {% endblock %}


{% block breadcrumb %}
{% catalog_breadcrumb product %}
{% endblock breadcrumb %}

{% block content %}
<section class="ad-detail-area">
    <div class="container">
        <div class="row">
            <div class="col-md-8">
        <h1>{{ product.name }}</h1>
                </div>
            <div class="col-md-4 h1 m-auto">
                {{ product.price }} P
            </div>
            </div>
        <div class="row">
            <div class="col-md-8 mb-2">
                {% if product.additional_img.count == 0 %}
                {% if product.image %}
                <div class="image-area-detail-ad">
                    <a href="{{ product.image.url }}" class="img-pop-up">
                        <img class="w-100 detail-img" src="{{ product.image.url }}">
                    </a>
                </div>
                {% else %}
                <div class="image-area-detail-ad">
                    <a href="/media/no_image.png" class="img-pop-up">
                        <img class="w-100 detail-img" src="/media/no_image.png">
                    </a>
                </div>
                {% endif %}
                {% else %}
                <div class="carousel-container">
                    <div id="carouselDetailAd" class="carousel slide" data-ride="carousel">
                        <div class="carousel-inner">
                            <div class="carousel-item active">
                                <a href="{{ product.image.url }}" class="img-pop-up">
                                    <img class="w-100 detail-img" src="{{ product.image.url }}" alt="First slide"
                                         number="0">
                                </a>
                            </div>
                            {% for additional_img in product.additional_img.all %}
                            <div class="carousel-item">
                                <a href="{{ additional_img.image.url }}" class="img-pop-up">
                                    <img class="detail-img w-100" src="{{ additional_img.image.url }}"
                                         alt="Second slide"
                                         number="{{ forloop.counter }}">
                                </a>
                            </div>
                            {% endfor %}
                        </div>
                        <a class="carousel-control-prev" href="#carouselDetailAd" role="button" data-slide="prev">
                            <span class="lnr lnr-arrow-left" style="color:black;"></span>
                            <span class="sr-only">Previous</span>
                        </a>
                        <a class="carousel-control-next" href="#carouselDetailAd" role="button" data-slide="next">
                            <span class="lnr lnr-arrow-right" style="color:black;"></span>
                            <span class="sr-only">Next</span>
                        </a>
                    </div>
                    <div class="gallery-item mt-4">
                        <div class="row px-3">
                            <div class="col-2 my-auto padding-l-r-0">
                                <img src="{{ product.image.url }}" class="additional-detail-img"
                                     style="border: 2px solid #fab700;" number="0">
                            </div>
                            {% for additional_img in product.additional_img.all %}
                            <div class="col-2 my-auto padding-l-r-0">
                                <img src="{{ additional_img.image.url }}" class="additional-detail-img"
                                     number="{{ forloop.counter }}">
                            </div>
                            {% endfor %}
                        </div>
                    </div>
                </div>
                {% endif %}
            </div>
            <div class="col-md-4 mx-auto">
                <div class="profile-info">
                    {% get_phone_number as phone_number %}
                    <span class="genric-btn primary w-100 mb-4"
                          onclick="$(this).html('<span>{{ phone_number }}</span>');">
                            <span>Показать телефон</span><br>
                            {{ phone_number|slice:'13'}}XX-XX
                        </span>
                    <div class="ml-2 h4">
                        <span class="lnr lnr-user"></span>
                        {{ profile.name }}
                    </div>
                    <div class="ml-2 h4">
                        <span class="lnr lnr-map-marker"></span>
                        Adress
                    </div>
                    <div class="ml-2">
                        <p><b>Размещено: </b>{{ product.pub_date|date:"SHORT_DATE_FORMAT" }}</p>
                    </div>
                </div>
            </div>
            <div class="col-md-8">

                <div class="text-content mt-2">
                    <span class="heading ">Описание</span>
                    <div class="row">
                    <div class="col-sm-6">
                        <p><b>Пол: </b>{{ product.sex }}</p>
                        <p><b>Возраст: </b>{{ product.age }}</p>
                    </div>
                    <div class="col-sm-6">
                        <p><b>Порода: </b>{{ product.breed }}</p>
                        <p><b>Вид породы: </b>{{ product.breed_type }}</p>
                    </div>
                </div>
                    {{ product.text|safe }}
                </div>
            </div>
        </div>
    </div>
</section>

{% endblock %}